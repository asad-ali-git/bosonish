"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9087,815],{8928:(e,t,s)=>{s.d(t,{Z:()=>a});var r=s(1257);const a={find:function(e){return r.Z.get("/settings/roles/".concat(e))},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.Z.get("/settings/roles",{params:e})},save:function(e){return e.post("/api/settings/roles/store")},delete:function(e){return r.Z.delete("/settings/roles/".concat(e,"/delete"))},getRoles:function(){return r.Z.get("/settings/roles/all")},assign:function(e){return e.post("/api/settings/roles/assign")}}},5714:(e,t,s)=>{s.d(t,{ZP:()=>x});var r=s(9669),a=s.n(r),n=Object.defineProperty,o=Object.prototype.hasOwnProperty,i=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,s)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,u=(e,t)=>{for(var s in t||(t={}))o.call(t,s)&&c(e,s,t[s]);if(i)for(var s of i(t))l.call(t,s)&&c(e,s,t[s]);return e};const d=e=>void 0===e,f=e=>Array.isArray(e),p=e=>e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.slice,h=(e,t,s,r)=>((t=t||{}).indices=!d(t.indices)&&t.indices,t.nullsAsUndefineds=!d(t.nullsAsUndefineds)&&t.nullsAsUndefineds,t.booleansAsIntegers=!d(t.booleansAsIntegers)&&t.booleansAsIntegers,t.allowEmptyArrays=!d(t.allowEmptyArrays)&&t.allowEmptyArrays,s=s||new FormData,d(e)||(null===e?t.nullsAsUndefineds||s.append(r,""):(e=>"boolean"==typeof e)(e)?t.booleansAsIntegers?s.append(r,e?1:0):s.append(r,e):f(e)?e.length?e.forEach(((e,a)=>{const n=r+"["+(t.indices?a:"")+"]";h(e,t,s,n)})):t.allowEmptyArrays&&s.append(r+"[]",""):(e=>e instanceof Date)(e)?s.append(r,e.toISOString()):!(e=>e===Object(e))(e)||(e=>p(e)&&"string"==typeof e.name&&("object"==typeof e.lastModifiedDate||"number"==typeof e.lastModified))(e)||p(e)?s.append(r,e):Object.keys(e).forEach((a=>{const n=e[a];if(f(n))for(;a.length>2&&a.lastIndexOf("[]")===a.length-2;)a=a.substring(0,a.length-2);h(n,t,s,r?r+"["+a+"]":a)}))),s);var m={serialize:h};function y(e){if(null===e||"object"!=typeof e)return e;const t=Array.isArray(e)?[]:{};return Object.keys(e).forEach((s=>{t[s]=y(e[s])})),t}function v(e){return Array.isArray(e)?e:[e]}function g(e){return e instanceof File||e instanceof Blob||e instanceof FileList||"object"==typeof e&&null!==e&&void 0!==Object.values(e).find((e=>g(e)))}class b{constructor(){this.errors={},this.errors={}}set(e,t){"object"==typeof e?this.errors=e:this.set(u(u({},this.errors),{[e]:v(t)}))}all(){return this.errors}has(e){return Object.prototype.hasOwnProperty.call(this.errors,e)}hasAny(...e){return e.some((e=>this.has(e)))}any(){return Object.keys(this.errors).length>0}get(e){if(this.has(e))return this.getAll(e)[0]}getAll(e){return v(this.errors[e]||[])}only(...e){const t=[];return e.forEach((e=>{const s=this.get(e);s&&t.push(s)})),t}flatten(){return Object.values(this.errors).reduce(((e,t)=>e.concat(t)),[])}clear(e){const t={};e&&Object.keys(this.errors).forEach((s=>{s!==e&&(t[s]=this.errors[s])})),this.set(t)}}class w{constructor(e={}){this.originalData={},this.busy=!1,this.successful=!1,this.recentlySuccessful=!1,this.recentlySuccessfulTimeoutId=void 0,this.errors=new b,this.progress=void 0,this.update(e)}static make(e){return new this(e)}update(e){this.originalData=Object.assign({},this.originalData,y(e)),Object.assign(this,e)}fill(e={}){this.keys().forEach((t=>{this[t]=e[t]}))}data(){return this.keys().reduce(((e,t)=>u(u({},e),{[t]:this[t]})),{})}keys(){return Object.keys(this).filter((e=>!w.ignore.includes(e)))}startProcessing(){this.errors.clear(),this.busy=!0,this.successful=!1,this.progress=void 0,this.recentlySuccessful=!1,clearTimeout(this.recentlySuccessfulTimeoutId)}finishProcessing(){this.busy=!1,this.successful=!0,this.progress=void 0,this.recentlySuccessful=!0,this.recentlySuccessfulTimeoutId=setTimeout((()=>{this.recentlySuccessful=!1}),w.recentlySuccessfulTimeout)}clear(){this.errors.clear(),this.successful=!1,this.recentlySuccessful=!1,this.progress=void 0,clearTimeout(this.recentlySuccessfulTimeoutId)}reset(){Object.keys(this).filter((e=>!w.ignore.includes(e))).forEach((e=>{this[e]=y(this.originalData[e])}))}get(e,t={}){return this.submit("get",e,t)}post(e,t={}){return this.submit("post",e,t)}patch(e,t={}){return this.submit("patch",e,t)}put(e,t={}){return this.submit("put",e,t)}delete(e,t={}){return this.submit("delete",e,t)}submit(e,t,s={}){return this.startProcessing(),s=u({data:{},params:{},url:this.route(t),method:e,onUploadProgress:this.handleUploadProgress.bind(this)},s),"get"===e.toLowerCase()?s.params=u(u({},this.data()),s.params):(s.data=u(u({},this.data()),s.data),g(s.data)&&!s.transformRequest&&(s.transformRequest=[e=>m.serialize(e)])),new Promise(((e,t)=>{(w.axios||a()).request(s).then((t=>{this.finishProcessing(),e(t)})).catch((e=>{this.handleErrors(e),t(e)}))}))}handleErrors(e){this.busy=!1,this.progress=void 0,e.response&&this.errors.set(this.extractErrors(e.response))}extractErrors(e){return e.data&&"object"==typeof e.data?e.data.errors?u({},e.data.errors):e.data.message?{error:e.data.message}:u({},e.data):{error:w.errorMessage}}handleUploadProgress(e){this.progress={total:e.total,loaded:e.loaded,percentage:Math.round(100*e.loaded/e.total)}}route(e,t={}){let s=e;return Object.prototype.hasOwnProperty.call(w.routes,e)&&(s=decodeURI(w.routes[e])),"object"!=typeof t&&(t={id:t}),Object.keys(t).forEach((e=>{s=s.replace(`{${e}}`,t[e])})),s}onKeydown(e){const t=e.target;t.name&&this.errors.clear(t.name)}}w.routes={},w.errorMessage="Something went wrong. Please try again.",w.recentlySuccessfulTimeout=2e3,w.ignore=["busy","successful","errors","progress","originalData","recentlySuccessful","recentlySuccessfulTimeoutId"];const x=w},1183:(e,t,s)=>{s.d(t,{Z:()=>a});const r={props:{value:{type:Boolean,default:!1},outsideClose:{type:Boolean,default:!1},tag:{type:String,default:"div"}},methods:{checkOpen:function(e){this.value&&(this.$emit("input",!1),this.$emit("closed"))},outsideCloseAble:function(){console.log(this.outsideClose),this.outsideClose&&this.checkOpen()}}};const a=(0,s(1900).Z)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("transition",{attrs:{name:"overlay"}},[e.value?s("div",{staticClass:"z-50 absolute inset-0 bg-gray-900 bg-opacity-50 transition-opacity",attrs:{"aria-hidden":"true"}}):e._e()]),e._v(" "),s("transition",{attrs:{name:"slide-over"}},[e.value?s("div",{staticClass:"z-50 fixed inset-0 overflow-hidden"},[s("div",{staticClass:"absolute inset-0 overflow-hidden"},[e.value?s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.outsideCloseAble,expression:"outsideCloseAble"}],staticClass:"fixed inset-y-0 right-0 pl-10 max-w-full flex"},[s("div",{staticClass:"relative w-screen max-w-xl"},[s("div",{staticClass:"absolute top-0 right-0 pt-4 pr-10 flex"},[s("button",{staticClass:"rounded-md text-gray-300 hover:text-white focus:outline-none focus:ring-2 focus:ring-white",attrs:{type:"button"},on:{click:e.checkOpen}},[s("span",{staticClass:"sr-only"},[e._v("Close panel")]),e._v(" "),s("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])]),e._v(" "),s(e.tag,{tag:"component",staticClass:"h-full flex flex-col bg-white shadow-xl overflow-y-scroll dark:bg-gray-800",on:{submit:function(t){return t.preventDefault(),e.$emit("formSubmit",t)}}},[s("div",{staticClass:"py-4 px-4 sm:px-6 bg-indigo-600"},[e._t("header")],2),e._v(" "),s("div",{staticClass:"mt-6 relative flex-1 px-4 sm:px-6"},[e._t("body")],2),e._v(" "),s("div",{staticClass:"border-t dark:border-gray-600 py-4 px-4"},[e._t("footer")],2)])],1)]):e._e()])]):e._e()])],1)}),[],!1,null,null,null).exports},750:(e,t,s)=>{s.d(t,{Z:()=>a});const r={name:"StatsCardIcon",props:{paths:{type:Array,default:function(){return[]}},height:{type:Number,default:5}}};const a=(0,s(1900).Z)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{staticClass:"w-5",class:"h-"+e.height,attrs:{fill:"currentColor",viewBox:"0 0 20 20"}},[e._t("default",(function(){return[e._l(e.paths,(function(e,t){return[s("path",{key:t,attrs:{d:e}})]}))]}))],2)}),[],!1,null,null,null).exports},2126:(e,t,s)=>{s.d(t,{Z:()=>a});const r={name:"PageTitle",props:{title:{type:String,required:!0}}};const a=(0,s(1900).Z)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._t("default",(function(){return[s("h2",{staticClass:"mb-6 md:text-2xl lg:text-3xl font-bold text-gray-700 dark:text-gray-200 sm:text-xl text-2xl"},[e._v("\n      "+e._s(e.title)+"\n    ")])]}))],2)}),[],!1,null,null,null).exports},4075:(e,t,s)=>{s.d(t,{Z:()=>o});function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const n={props:{title:{type:String,default:"Table Title"},searchPlaceholder:{type:String,default:"Search Table"},searchAble:{type:Boolean,default:!0},headerRequired:{type:Boolean,default:!0},paginateAble:{type:Boolean,default:!0},meta:{type:Object,default:function(){return{length:10,search:"",sortBy:"id",sortDesc:!0,page:1,total:0}}}},computed:{currentPage:{get:function(){return this.meta.page},set:function(e){this.refresh("page",e)}},perPage:{get:function(){return parseInt(this.meta.length)},set:function(e){this.refresh("length",e)}}},methods:{handleSearch:function(e){this.refresh("search",e)},refresh:function(e,t){var s=this.getNewMeta(e,t);this.$emit("update:meta",s),this.$emit("refresh")},getNewMeta:function(e,t){var s=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach((function(t){a(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},this.meta);return s[e]=t,s}}};const o=(0,s(1900).Z)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"bg-white dark:bg-gray-800 dark:border-gray-600 shadow-lg rounded-sm border border-gray-200"},[e.headerRequired?s("header",{staticClass:"px-5 py-4"},[s("div",{staticClass:"flex flex-wrap"},[s("div",{staticClass:"w-full sm:w-1/2 md:text-left text-center"},[s("h2",{staticClass:"font-semibold text-gray-800 dark:text-gray-200"},[e._v("\n            "+e._s(e.title)+" "),s("span",{staticClass:"text-gray-400 font-semibold"},[e._v(e._s(e.meta.total)+" items")])])]),e._v(" "),e.searchAble?s("div",{staticClass:"w-full sm:w-1/2"},[s("SearchBox",{attrs:{placeholder:e.searchPlaceholder},on:{input:e.handleSearch}})],1):e._e()])]):e._e(),e._v(" "),s("div",{staticClass:"overflow-y-auto rounded-lg ring-1 ring-black ring-opacity-5"},[e._t("table")],2)]),e._v(" "),e.paginateAble?s("div",{staticClass:"mt-4 flex flex-row justify-between items-center"},[s("div",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.perPage,expression:"perPage"}],staticClass:"block focus:shadow-outline-primary border-primary-300 w-full pl-3 pr-10 py-1 transition duration-100 ease-in-out border rounded shadow-sm focus:ring-2 focus:ring-primary-500 focus:outline-none focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed dark:focus:shadow-outline-gray dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.perPage=t.target.multiple?s:s[0]}}},[s("option",{domProps:{value:10}},[e._v("\n          10\n        ")]),e._v(" "),s("option",{domProps:{value:15}},[e._v("\n          15\n        ")]),e._v(" "),s("option",{domProps:{value:20}},[e._v("\n          20\n        ")]),e._v(" "),s("option",{domProps:{value:500}},[e._v("\n          All\n        ")])])]),e._v(" "),s("div",{staticClass:"text-sm text-gray-500 text-center sm:text-left"},[s("t-pagination",{attrs:{"total-items":e.meta.total,"per-page":e.perPage,limit:e.meta.length},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)]):e._e()])}),[],!1,null,null,null).exports},8148:(e,t,s)=>{s.d(t,{Z:()=>a});const r={name:"TheTable",components:{StatsCardIcon:s(750).Z},props:{headers:{type:Array,required:!0},data:{type:Array,required:!0},noLocalSort:{type:Boolean,default:!1},sortBy:{type:String,default:""},sortDesc:{type:Boolean,default:!0},hasSelectable:{type:Boolean,default:!1},selectedRows:{type:Array,default:function(){return[]}},selectionKey:{type:String,default:"id"},selectCompleteRow:{type:Boolean,default:!1}},data:function(){return{iconPathDown:["M12 13.172l4.95-4.95 1.414 1.414L12 16 5.636 9.636 7.05 8.222z"],iconPathUp:["M12 10.828l-4.95 4.95-1.414-1.414L12 8l6.364 6.364-1.414 1.414z"]}},computed:{isAllSelected:{get:function(){return this.selected.length===this.data.length},set:function(e){this.selected=e?this.selectCompleteRow?this.data:this.data.map((function(e){return e.id})):[]}},selected:{get:function(){return this.selectedRows},set:function(e){this.$emit("update:selected-rows",e)}},tableData:{get:function(){return this.data},set:function(e){this.$emit("update:data",e)}}},methods:{order:function(e){var t=!this.sortDesc;this.$emit("update:sort-desc",t),this.$emit("update:sort-by",e),this.$emit("sorting"),this.noLocalSort&&this.doLocalSort(e)},doLocalSort:function(e){var t=this,s=!this.sortDesc;this.tableData.sort((function(r,a){var n=t.$getPropByString(r,e).toLowerCase(),o=t.$getPropByString(a,e).toLowerCase();return s?n>o?-1:n<o?1:0:n<o?-1:n>o?1:0}))}}};const a=(0,s(1900).Z)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.headers?s("div",[s("t-table",{attrs:{headers:e.headers,data:e.tableData},scopedSlots:e._u([{key:"thead",fn:function(t){return[s("thead",{class:t.theadClass},[s("tr",{class:t.trClass},[e.hasSelectable?s("th",{staticClass:"px-2 first:pl-5  w-1"},[s("t-checkbox",{model:{value:e.isAllSelected,callback:function(t){e.isAllSelected=t},expression:"isAllSelected"}})],1):e._e(),e._v(" "),e._l(t.data,(function(r,a){return s("th",{key:a,class:t.thClass+" "+(r.extraClasses||"")+" "+(r.thExtraClasses||"")},[e._t("th_"+r.key),e._v(" "),s("span",{class:{"flex justify-start items-center":r.sortable}},[s("span",{staticClass:"mr-2"},[e._v("\n                "+e._s(r.label)+"\n              ")]),e._v(" "),r.sortable?s("span",{staticClass:"flex flex-col"},[s("button",{on:{click:function(t){return e.order(r.key)}}},[s("stats-card-icon",{attrs:{height:3,paths:e.iconPathUp}})],1),e._v(" "),s("button",{on:{click:function(t){return e.order(r.key)}}},[s("stats-card-icon",{attrs:{height:3,paths:e.iconPathDown}})],1)]):e._e()])],2)}))],2)])]}},{key:"row",fn:function(t){return[s("tr",{class:t.trClass},[e.hasSelectable?s("td",{staticClass:"px-2 first:pl-5 w-1"},[s("t-checkbox",{attrs:{value:e.selectCompleteRow?t.row:t.row[e.selectionKey]},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1):e._e(),e._v(" "),e._l(e.headers,(function(r,a){return s("td",{key:a,class:t.tdClass+" "+(r.extraClasses||"")+" "+(r.tdExtraClasses||"")},[e._t(r.key,(function(){return[e._v("\n            "+e._s(e.$getPropByString(t.row,r.key))+"\n          ")]}),{row:t.row,item:t.row[r.key.split(".")[0]]})],2)}))],2)]}}],null,!0)})],1):e._e()}),[],!1,null,null,null).exports},9087:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var r=s(7757),a=s.n(r),n=s(2126),o=s(8148),i=s(4075),l=s(815),c=s(8928);function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){f(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function f(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function p(e,t,s,r,a,n,o){try{var i=e[n](o),l=i.value}catch(e){return void s(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,s=arguments;return new Promise((function(r,a){var n=e.apply(t,s);function o(e){p(n,r,a,o,i,"next",e)}function i(e){p(n,r,a,o,i,"throw",e)}o(void 0)}))}}const m={components:{PageTitle:n.Z,TheTable:o.Z,DataTable:i.Z,SidePanel:l.default},middleware:["auth","permission:manage-roles"],metaInfo:function(){return{title:"Manage Role"}},data:function(){return{meta:{length:10,search:"",sortBy:"id",sortDesc:!0,page:1,total:0},headers:[{key:"display_name",label:"Role",sortable:!0,tdExtraClasses:"font-medium"},{key:"description",label:"Description",sortable:!0,tdExtraClasses:"font-medium"},{key:"actions",label:"Actions",sortable:!1,extraClasses:"text-center"}],selectedRows:[],data:null,showRoleSidePanel:!1,role:{id:null,name:"",display_name:"",description:""}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this;return h(a().mark((function t(){var s,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get(e.meta);case 2:s=t.sent,r=s.data,e.data=r.data,e.meta=d(d({},e.meta),r.meta);case 6:case"end":return t.stop()}}),t)})))()},deleteRecord:function(e){var t=this;this.$dialog.confirm({okButtonText:"Yes, Delete",cancelButtonText:"Cancel",title:"Delete Role",text:"Are you sure you want to delete this role?",icon:"warning"}).then(function(){var s=h(a().mark((function s(r){var n,o;return a().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!r.isOk){s.next=7;break}return s.next=3,c.Z.delete(e.id);case 3:n=s.sent,o=n.data,t.$notify({group:"success",title:"Success",text:o.message},2e3),t.getData();case 7:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}())},editRecord:function(e){this.showRoleSidePanel=!0,this.role=e}}};const y=(0,s(1900).Z)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container px-6 mx-auto py-8 text-gray-600"},[s("div",{staticClass:"flex flex-wrap"},[s("div",{staticClass:"w-full sm:w-1/2 text-center sm:text-left"},[s("PageTitle",{attrs:{title:"Manage Roles"}})],1),e._v(" "),s("div",{staticClass:"w-full sm:w-1/2 flex justify-center sm:justify-end items-center mb-3"},[e.selectedRows.length>0?s("div",{staticClass:"flex items-center"},[s("span",{staticClass:"mr-2"},[e._v(e._s(e.selectedRows.length)+" items selected")]),e._v(" "),s("t-button",{staticClass:"flex justify-between mr-2",attrs:{variant:"danger"}},[s("span",{staticClass:"px-4 "},[e._v("Archive")])])],1):e._e(),e._v(" "),s("t-button",{staticClass:"flex justify-between mr-2",attrs:{variant:"primary"},on:{click:function(t){e.showRoleSidePanel=!0}}},[s("IconBase",{staticClass:"w-4 h-4",attrs:{viewBox:"0 0 16 16",paths:["M15 7H9V1c0-.6-.4-1-1-1S7 .4 7 1v6H1c-.6 0-1 .4-1 1s.4 1 1 1h6v6c0 .6.4 1 1 1s1-.4 1-1V9h6c.6 0 1-.4 1-1s-.4-1-1-1z"]}}),e._v(" "),s("span",{staticClass:"px-4 "},[e._v("Add Role")])],1)],1)]),e._v(" "),e.data?s("DataTable",{attrs:{title:"All Role","search-placeholder":"Search Roles",meta:e.meta},on:{"update:meta":function(t){e.meta=t},refresh:function(t){return e.getData()}}},[s("template",{slot:"table"},[s("TheTable",{staticClass:"w-full",attrs:{headers:e.headers,data:e.data,"no-local-sort":"","sort-by":e.meta.sortBy,"sort-desc":e.meta.sortDesc,"has-selectable":"","selected-rows":e.selectedRows,"selection-key":"id"},on:{"update:data":function(t){e.data=t},"update:sortBy":function(t){return e.$set(e.meta,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.meta,"sortBy",t)},"update:sortDesc":function(t){return e.$set(e.meta,"sortDesc",t)},"update:sort-desc":function(t){return e.$set(e.meta,"sortDesc",t)},"update:selectedRows":function(t){e.selectedRows=t},"update:selected-rows":function(t){e.selectedRows=t},sorting:e.getData},scopedSlots:e._u([{key:"actions",fn:function(t){var r=t.row;return[s("t-dropdown",{attrs:{variant:"table",text:"Action",blureable:""},scopedSlots:e._u([{key:"trigger",fn:function(e){var t=e.mousedownHandler,r=e.focusHandler,a=e.blurHandler,n=e.keydownHandler;return s("div",{},[s("t-button",{attrs:{variant:"icon"},on:{mousedown:t,focus:r,blur:a,keydown:n}},[s("IconBase",{staticClass:"w-5 h-5",attrs:{paths:["M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"]}})],1)],1)}},{key:"default",fn:function(t){var a=t.hide;return s("div",{staticClass:"py-1 rounded-md shadow-xs"},[s("t-button",{attrs:{variant:"dropdown"},on:{click:function(t){a(),e.editRecord(r)}}},[s("IconBase",{staticClass:"w-3 h-3 mr-2",attrs:{paths:["M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"]}}),e._v(" "),s("span",[e._v("Edit")])],1),e._v(" "),s("t-button",{attrs:{variant:"dropdown"},on:{click:function(t){a(),e.deleteRecord(r)}}},[s("IconBase",{staticClass:"w-3 h-3 mr-2",attrs:{paths:["M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"]}}),e._v(" "),s("span",[e._v("Delete")])],1),e._v(" "),e.$can("assign-permission")?s("t-button",{attrs:{to:{name:"settings.assign.permissions",params:{id:r.id}},variant:"dropdown"}},[s("IconBase",{staticClass:"w-3 h-3 mr-2",attrs:{paths:["M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"]}}),e._v(" "),s("span",[e._v("Assign Permissions")])],1):e._e()],1)}}],null,!0)})]}}],null,!1,868052612)})],1)],2):e._e(),e._v(" "),s("SidePanel",{attrs:{record:e.role},on:{submitted:e.getData},model:{value:e.showRoleSidePanel,callback:function(t){e.showRoleSidePanel=t},expression:"showRoleSidePanel"}})],1)}),[],!1,null,null,null).exports},815:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var r=s(7757),a=s.n(r),n=s(1183),o=s(9755),i=s(8928),l=s(5714);function c(e,t,s,r,a,n,o){try{var i=e[n](o),l=i.value}catch(e){return void s(e)}i.done?t(l):Promise.resolve(l).then(r,a)}const u={name:"RoleSidePanel",components:{SlideOutPanel:n.Z,InputGroup:o.Z},props:{value:{type:Boolean,required:!1},record:{type:Object,default:null}},data:function(){return{form:new l.ZP(this.record)}},computed:{show:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},watch:{record:{deep:!0,handler:function(e){this.form.fill(e)}}},methods:{handleSubmit:function(){var e,t=this;return(e=a().mark((function e(){var s,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.save(t.form);case 2:s=e.sent,r=s.data,t.show=!1,t.form.reset(),t.$notify({group:"success",title:"Success",text:r.message},2e3),t.$emit("submitted");case 8:case"end":return e.stop()}}),e)})),function(){var t=this,s=arguments;return new Promise((function(r,a){var n=e.apply(t,s);function o(e){c(n,r,a,o,i,"next",e)}function i(e){c(n,r,a,o,i,"throw",e)}o(void 0)}))})()},handleHide:function(){this.show=!1,this.form.reset()}}};const d=(0,s(1900).Z)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("slide-out-panel",{attrs:{"outside-close":!0,tag:"form"},on:{closed:e.handleHide,formSubmit:e.handleSubmit},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"header"},[s("div",{},[s("h2",{staticClass:" text-white font-semibold"},[e._v("\n        "+e._s(e.form.id?"Edit Role":"Add Role")+"\n      ")])])]),e._v(" "),s("template",{slot:"body"},[s("InputGroup",{attrs:{tag:"t-input",label:"Display Name",field:"display_name",errors:e.form.errors},on:{input:function(t){e.form.name=e.$slugify(e.form.display_name)}},model:{value:e.form.display_name,callback:function(t){e.$set(e.form,"display_name",t)},expression:"form.display_name"}}),e._v(" "),s("InputGroup",{attrs:{tag:"t-input",label:"Name",field:"name",errors:e.form.errors},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),s("InputGroup",{attrs:{tag:"t-textarea",label:"Description",field:"description",errors:e.form.errors},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),s("template",{slot:"footer"},[s("div",{staticClass:"flex justify-end items-end space-x-2 px-4"},[s("t-button",{attrs:{type:"button",variant:"default"},on:{click:e.handleHide}},[e._v("\n        Cancel\n      ")]),e._v(" "),s("t-button",{attrs:{loading:e.form.busy,variant:"primary"}},[e._v("\n        Submit\n      ")])],1)])],2)}),[],!1,null,"0e842e32",null).exports}}]);