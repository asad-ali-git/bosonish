"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9187],{5714:(s,e,t)=>{t.d(e,{ZP:()=>_});var r=t(9669),o=t.n(r),a=Object.defineProperty,n=Object.prototype.hasOwnProperty,i=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,l=(s,e,t)=>e in s?a(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,u=(s,e)=>{for(var t in e||(e={}))n.call(e,t)&&l(s,t,e[t]);if(i)for(var t of i(e))c.call(e,t)&&l(s,t,e[t]);return s};const d=s=>void 0===s,f=s=>Array.isArray(s),p=s=>s&&"number"==typeof s.size&&"string"==typeof s.type&&"function"==typeof s.slice,h=(s,e,t,r)=>((e=e||{}).indices=!d(e.indices)&&e.indices,e.nullsAsUndefineds=!d(e.nullsAsUndefineds)&&e.nullsAsUndefineds,e.booleansAsIntegers=!d(e.booleansAsIntegers)&&e.booleansAsIntegers,e.allowEmptyArrays=!d(e.allowEmptyArrays)&&e.allowEmptyArrays,t=t||new FormData,d(s)||(null===s?e.nullsAsUndefineds||t.append(r,""):(s=>"boolean"==typeof s)(s)?e.booleansAsIntegers?t.append(r,s?1:0):t.append(r,s):f(s)?s.length?s.forEach(((s,o)=>{const a=r+"["+(e.indices?o:"")+"]";h(s,e,t,a)})):e.allowEmptyArrays&&t.append(r+"[]",""):(s=>s instanceof Date)(s)?t.append(r,s.toISOString()):!(s=>s===Object(s))(s)||(s=>p(s)&&"string"==typeof s.name&&("object"==typeof s.lastModifiedDate||"number"==typeof s.lastModified))(s)||p(s)?t.append(r,s):Object.keys(s).forEach((o=>{const a=s[o];if(f(a))for(;o.length>2&&o.lastIndexOf("[]")===o.length-2;)o=o.substring(0,o.length-2);h(a,e,t,r?r+"["+o+"]":o)}))),t);var m={serialize:h};function y(s){if(null===s||"object"!=typeof s)return s;const e=Array.isArray(s)?[]:{};return Object.keys(s).forEach((t=>{e[t]=y(s[t])})),e}function g(s){return Array.isArray(s)?s:[s]}function b(s){return s instanceof File||s instanceof Blob||s instanceof FileList||"object"==typeof s&&null!==s&&void 0!==Object.values(s).find((s=>b(s)))}class v{constructor(){this.errors={},this.errors={}}set(s,e){"object"==typeof s?this.errors=s:this.set(u(u({},this.errors),{[s]:g(e)}))}all(){return this.errors}has(s){return Object.prototype.hasOwnProperty.call(this.errors,s)}hasAny(...s){return s.some((s=>this.has(s)))}any(){return Object.keys(this.errors).length>0}get(s){if(this.has(s))return this.getAll(s)[0]}getAll(s){return g(this.errors[s]||[])}only(...s){const e=[];return s.forEach((s=>{const t=this.get(s);t&&e.push(t)})),e}flatten(){return Object.values(this.errors).reduce(((s,e)=>s.concat(e)),[])}clear(s){const e={};s&&Object.keys(this.errors).forEach((t=>{t!==s&&(e[t]=this.errors[t])})),this.set(e)}}class w{constructor(s={}){this.originalData={},this.busy=!1,this.successful=!1,this.recentlySuccessful=!1,this.recentlySuccessfulTimeoutId=void 0,this.errors=new v,this.progress=void 0,this.update(s)}static make(s){return new this(s)}update(s){this.originalData=Object.assign({},this.originalData,y(s)),Object.assign(this,s)}fill(s={}){this.keys().forEach((e=>{this[e]=s[e]}))}data(){return this.keys().reduce(((s,e)=>u(u({},s),{[e]:this[e]})),{})}keys(){return Object.keys(this).filter((s=>!w.ignore.includes(s)))}startProcessing(){this.errors.clear(),this.busy=!0,this.successful=!1,this.progress=void 0,this.recentlySuccessful=!1,clearTimeout(this.recentlySuccessfulTimeoutId)}finishProcessing(){this.busy=!1,this.successful=!0,this.progress=void 0,this.recentlySuccessful=!0,this.recentlySuccessfulTimeoutId=setTimeout((()=>{this.recentlySuccessful=!1}),w.recentlySuccessfulTimeout)}clear(){this.errors.clear(),this.successful=!1,this.recentlySuccessful=!1,this.progress=void 0,clearTimeout(this.recentlySuccessfulTimeoutId)}reset(){Object.keys(this).filter((s=>!w.ignore.includes(s))).forEach((s=>{this[s]=y(this.originalData[s])}))}get(s,e={}){return this.submit("get",s,e)}post(s,e={}){return this.submit("post",s,e)}patch(s,e={}){return this.submit("patch",s,e)}put(s,e={}){return this.submit("put",s,e)}delete(s,e={}){return this.submit("delete",s,e)}submit(s,e,t={}){return this.startProcessing(),t=u({data:{},params:{},url:this.route(e),method:s,onUploadProgress:this.handleUploadProgress.bind(this)},t),"get"===s.toLowerCase()?t.params=u(u({},this.data()),t.params):(t.data=u(u({},this.data()),t.data),b(t.data)&&!t.transformRequest&&(t.transformRequest=[s=>m.serialize(s)])),new Promise(((s,e)=>{(w.axios||o()).request(t).then((e=>{this.finishProcessing(),s(e)})).catch((s=>{this.handleErrors(s),e(s)}))}))}handleErrors(s){this.busy=!1,this.progress=void 0,s.response&&this.errors.set(this.extractErrors(s.response))}extractErrors(s){return s.data&&"object"==typeof s.data?s.data.errors?u({},s.data.errors):s.data.message?{error:s.data.message}:u({},s.data):{error:w.errorMessage}}handleUploadProgress(s){this.progress={total:s.total,loaded:s.loaded,percentage:Math.round(100*s.loaded/s.total)}}route(s,e={}){let t=s;return Object.prototype.hasOwnProperty.call(w.routes,s)&&(t=decodeURI(w.routes[s])),"object"!=typeof e&&(e={id:e}),Object.keys(e).forEach((s=>{t=t.replace(`{${s}}`,e[s])})),t}onKeydown(s){const e=s.target;e.name&&this.errors.clear(e.name)}}w.routes={},w.errorMessage="Something went wrong. Please try again.",w.recentlySuccessfulTimeout=2e3,w.ignore=["busy","successful","errors","progress","originalData","recentlySuccessful","recentlySuccessfulTimeoutId"];const _=w},9187:(s,e,t)=>{t.r(e),t.d(e,{default:()=>c});var r=t(7757),o=t.n(r),a=t(5714);function n(s,e,t,r,o,a,n){try{var i=s[a](n),c=i.value}catch(s){return void t(s)}i.done?e(c):Promise.resolve(c).then(r,o)}const i={scrollToTop:!1,metaInfo:function(){return{title:this.$t("settings")}},data:function(){return{form:new a.ZP({password:"",password_confirmation:""})}},methods:{update:function(){var s,e=this;return(s=o().mark((function s(){return o().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.form.patch("/api/settings/password");case 2:e.form.reset();case 3:case"end":return s.stop()}}),s)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var a=s.apply(e,t);function i(s){n(a,r,o,i,c,"next",s)}function c(s){n(a,r,o,i,c,"throw",s)}i(void 0)}))})()}}};const c=(0,t(1900).Z)(i,(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("card",{attrs:{title:s.$t("your_password")}},[t("form",{on:{submit:function(e){return e.preventDefault(),s.update.apply(null,arguments)},keydown:function(e){return s.form.onKeydown(e)}}},[t("alert-success",{attrs:{form:s.form,message:s.$t("password_updated")}}),s._v(" "),t("div",{staticClass:"mb-3 row"},[t("label",{staticClass:"col-md-3 col-form-label text-md-end"},[s._v(s._s(s.$t("new_password")))]),s._v(" "),t("div",{staticClass:"col-md-7"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-invalid":s.form.errors.has("password")},attrs:{type:"password",name:"password"},domProps:{value:s.form.password},on:{input:function(e){e.target.composing||s.$set(s.form,"password",e.target.value)}}}),s._v(" "),t("has-error",{attrs:{errors:s.form.errors,field:"password"}})],1)]),s._v(" "),t("div",{staticClass:"mb-3 row"},[t("label",{staticClass:"col-md-3 col-form-label text-md-end"},[s._v(s._s(s.$t("confirm_password")))]),s._v(" "),t("div",{staticClass:"col-md-7"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.form.password_confirmation,expression:"form.password_confirmation"}],staticClass:"form-control",class:{"is-invalid":s.form.errors.has("password_confirmation")},attrs:{type:"password",name:"password_confirmation"},domProps:{value:s.form.password_confirmation},on:{input:function(e){e.target.composing||s.$set(s.form,"password_confirmation",e.target.value)}}}),s._v(" "),t("has-error",{attrs:{errors:s.form.errors,field:"password_confirmation"}})],1)]),s._v(" "),t("div",{staticClass:"mb-3 row"},[t("div",{staticClass:"col-md-9 ms-md-auto"},[t("v-button",{attrs:{loading:s.form.busy,type:"success"}},[s._v("\n          "+s._s(s.$t("update"))+"\n        ")])],1)])],1)])}),[],!1,null,null,null).exports}}]);